<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- 可选的Bootstrap主题文件（一般不用引入） -->
<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">

<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="js/card.js"></script>
<script src="js/Validation.js"></script>
	</head>
	<body>
		<button class="btn btn-primary btn-lg" data-toggle="modal" 
   data-target="#myModal">
   开始演示模态框
</button>

<!-- 模态框（Modal） -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" 
   aria-labelledby="myModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <button type="button" class="close" 
               data-dismiss="modal" aria-hidden="true">
                  &times;
            </button>
            <h4 class="modal-title" id="myModalLabel">
               添加用户
            </h4>
         </div>
         <div class="modal-body">
          	<div id="warn">
</div>
<form class="form-horizontal">
  <div id="username_form" class="form-group has-feedback">
    <label style="text-align: right;" class="control-label col-sm-3" for="username">用户名:</label>
    <div class="col-sm-6" id="username_input">
      <input type="text" class="form-control" id="username" aria-describedby="usernameStatus" onblur="usernameValidation('username')">
    </div>

  </div>
  
  <div class="form-group has-success has-feedback" id="realname_form">
    <label style="text-align: right;" class="control-label col-sm-3" for="realname">角色:</label>
    <div class="col-sm-6" id="realname_input">
      <input type="text" class="form-control" id="realname" aria-describedby="realnameStatus" onblur="realnameValidation('realname')">
    </div>

  </div>
  
     <div class="form-group has-success has-feedback" id="idCard_form">
    <label style="text-align: right;" class="control-label col-sm-3" for="idCard">身份证:</label>
    <div class="col-sm-6" id="idCard_input">
      <input type="text" class="form-control" id="idCard" aria-describedby="idCardStatus" onblur="idCardValidation('idCard')">
    </div>

  </div>
  

<div class="form-group has-success has-feedback" id="password_form">
    <label style="text-align: right;" class="control-label col-sm-3" for="password">密码:</label>
    <div class="col-sm-6" id="password_input">
      <input type="password" class="form-control" id="password" aria-describedby="passwordStatus" onblur="passwordValidation('password')"> 
    </div>
  </div>
  
   <div class="form-group has-success has-feedback" id="againPassword_form">
    <label style="text-align: right;" class="control-label col-sm-3" for="againPassword">密码确认:</label>
    <div class="col-sm-6" id="againPassword_input">
      <input type="password" class="form-control" id="againPassword" aria-describedby="againPasswordStatus" onblur="againPasswordValidation('againPassword')">
    </div>

  </div>
 <div class="modal-footer">
            <button type="button" class="btn btn-default" 
               data-dismiss="modal">关闭
            </button>
            <button type="button" class="btn btn-primary" onclick="save()">
               保存
            </button>
         </div>
  
</form>
         </div>
        
      </div><!-- /.modal-content -->
</div><!-- /.modal -->
</div>
	
<script type="text/javascript">
var validation=new Validation();
	   function usernameValidation(id){
		var username=$('#'+id).val();
	
		if(username==null||username.length<=0){
			validation.errorText(id,"用户名字不能为空");
		}else{
			
			validation.successText(id);
		}
		
	   }
	   function realnameValidation(id){
	   	validation.successText(id);
	   }
	   function againPasswordValidation(id){
	   var againPasword= $('#'+id).val();
	   var password=$('#password').val();
	
	   if(password!=againPasword){
	   	validation.errorText(id,"两次输入的密码不一致");
	   }else{
	   	validation.successText(id);
	   }
	   }
	   function idCardValidation(id){
	   	var idCard=$('#'+id).val();
	   	if(checkCard(idCard)=="ok"){
	   			validation.successText(id);
	   	}else{
	   		validation.errorText(id,checkCard(idCard));
	   	}
	   }
	   function passwordValidation(id){
	   	var password=$('#'+id).val();
	
		if(password==null||password.length<=0){
			validation.errorText(id,"密码不能为空");
		}else{
			
			validation.successText(id);
		}
	   }
	   function save(){
	   	alert(validation.isValid());
	   }
</script>
	</body>
</html>
